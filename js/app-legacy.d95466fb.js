(function(){"use strict";var e={5123:function(e,t,r){var n,o=r(144),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"section",attrs:{id:"app"}},[r("div",{staticClass:"container"},[r("SchemaSection"),r("QueryWrapper")],1)])},a=[],u=r(655),s=r(1929),c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"field"},[r("SchemaIdInput"),r("ShExCView"),"INVALID"===e.parseStatus?r("div",[r("ShExCErrors")],1):e._e()],1)},l=[],f=r(629),p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("label",{staticClass:"label",attrs:{for:"SchmeaIdInput"}},[e._v(" EntitySchema ID ")]),r("div",{class:e.controlClass},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.SchemaId,expression:"SchemaId"}],class:e.inputClass,attrs:{id:"SchmeaIdInput",type:"url",placeholder:"E123"},domProps:{value:e.SchemaId},on:{change:e.ShExChanged,input:function(t){t.target.composing||(e.SchemaId=t.target.value)}}}),e.hasIcon?r("ShExCStatusIcon"):e._e()],1)])},h=[];(function(e){e["none"]="NONE",e["loading"]="LOADING",e["loadingError"]="LOADING_ERROR",e["inProgress"]="IN_PROGRESS",e["valid"]="VALID",e["invalid"]="INVALID"})(n||(n={}));var y=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{class:e.wrapperClass},[r("i",{class:e.iconClass})])},b=[],d={name:"ShExCStatusIcon",computed:{wrapperClass:function(){var e=["icon","is-small","is-right"];switch(this.$store.getters.getShExCStatus){case n.invalid:case n.loadingError:e.push("has-text-danger");break;case n.valid:e.push("has-text-success");break;default:throw new Error("Invalid status for icon: "+this.$store.getters.getShExCStatus)}return e.join(" ")},iconClass:function(){var e=["fas"];switch(this.$store.getters.getShExCStatus){case n.invalid:case n.loadingError:e.push("fa-times");break;case n.valid:e.push("fa-check");break;default:throw new Error("Invalid status for icon: "+this.$store.getters.getShExCStatus)}return e.join(" ")}}},v=d,m=r(1001),g=(0,m.Z)(v,y,b,!1,null,"29569010",null),w=g.exports;function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){S(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var j={name:"SchemaIdInput",components:{ShExCStatusIcon:w},data:function(){var e=this.$route.query;if(e.schemaURL){var t=e.schemaURL.substring(e.schemaURL.lastIndexOf("E"));return this.updateSchemaId(t),{SchemaId:t}}return e.schemaId?(this.updateSchemaId(e.schemaId),{SchemaId:e.schemaId}):{SchemaId:""}},computed:{inputClass:function(){var e="input";switch(this.$store.getters.getShExCStatus){case n.none:case n.loading:break;case n.invalid:case n.loadingError:e+=" is-danger";break;case n.valid:e+=" is-success";break;case n.inProgress:e+="is-warning";break;default:throw new Error("Unknown parse status: "+this.$store.getters.getShExCStatus)}return e},controlClass:function(){var e="control";switch(this.$store.getters.getShExCStatus){case n.none:case n.inProgress:break;case n.loading:e+=" is-loading";break;case n.invalid:case n.loadingError:case n.valid:e+=" has-icons-right";break;default:throw new Error("Unknown parse status: "+this.$store.getters.getShExCStatus)}return e},hasIcon:function(){return[n.loadingError,n.valid,n.invalid].includes(this.$store.getters.getShExCStatus)}},methods:E(E({},(0,f.nv)({updateSchemaId:"updateSchemaId"})),{},{ShExChanged:function(){this.updateSchemaId(this.SchemaId)}})},P=j,x=(0,m.Z)(P,p,h,!1,null,"68645a8b",null),C=x.exports,k=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("pre",[e._v(e._s(e.$store.state.ShExC))])},I=[],_={name:"ShExCView"},Q=_,D=(0,m.Z)(Q,k,I,!1,null,"063fcbd3",null),R=D.exports,N=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.error.message?r("div",{staticClass:"notification is-danger"},[r("b",[e._v("Line "+e._s(e.error.lineNo)+":")]),r("pre",[e._v(e._s(e.error.message))])]):e._e()},T=[];function $(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$(Object(r),!0).forEach((function(t){Z(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Z(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var q={name:"ShExCErrors",computed:L({},(0,f.Se)({error:"getShExCParseError"}))},U=q,A=(0,m.Z)(U,N,T,!1,null,"69312442",null),M=A.exports;function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(Object(r),!0).forEach((function(t){W(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function W(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var B={name:"SchemaSection",components:{SchemaIdInput:C,ShExCView:R,ShExCErrors:M},computed:F({},(0,f.Se)({parseStatus:"getShExCStatus"}))},G=B,Y=(0,m.Z)(G,c,l,!1,null,"1d6173ce",null),z=Y.exports,H=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("QueryInput"),e.numEntities>0?r("QueryResult"):e._e()],1)},J=[],K=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"field"},[r("label",{staticClass:"label",attrs:{for:"query"}},[e._v("SPARQL Query")]),r("p",{staticClass:"help"},[e._v("Enter query for Items to check.")]),r("div",{staticClass:"control"},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.Query,expression:"Query"}],staticClass:"textarea",attrs:{id:"query",rows:"10",spellcheck:"false",autocomplete:"off","data-gramm":"false",autocapitalize:"none",cols:"72",name:"query",placeholder:"#Cats\nSELECT ?item\nWHERE\n{\n  ?item wdt:P31 wd:Q146.\n}"},domProps:{value:e.Query},on:{input:function(t){t.target.composing||(e.Query=t.target.value)}}})]),r("div",{staticClass:"control"},[r("button",{staticClass:"button is-primary",on:{click:e.handleQueryChange}},[e._v(" Fetch Entites ")])]),e.getQueryError?r("div",{staticClass:"notification is-danger"},[r("pre",[e._v(e._s(e.getQueryError))])]):e._e()])},X=[];function ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(r),!0).forEach((function(t){re(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function re(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ne,oe={name:"QueryInput",data:function(){return{Query:""}},computed:te({},(0,f.Se)({parseStatus:"getShExCStatus",getQueryError:"getQueryError"})),methods:te({handleQueryChange:function(){this.updateQueryInStore(this.Query)}},(0,f.nv)({updateQueryInStore:"setQuery"}))},ie=oe,ae=(0,m.Z)(ie,K,X,!1,null,"01b2cb1a",null),ue=ae.exports,se=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("ul",{staticClass:"list"},e._l(e.entities,(function(e){return r("EntityListItem",{key:e.url,attrs:{status:e.status,url:e.url,error:e.error}})})),1)])},ce=[],le=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("li",{staticClass:"list-item"},[r("a",{staticClass:"is-success",attrs:{href:e.url}},[e._v(e._s(e.url))]),e.isConformant?r("span",{staticClass:"tag is-success"},[e._v(e._s(e.status))]):e._e(),e.hasErrors?r("span",{staticClass:"tag is-danger"},[e._v(e._s(e.status))]):e._e(),e.hasErrors?r("pre",[e._v(e._s(e.error))]):e._e()])},fe=[];(function(e){e["Conformant"]="CONFORMANT",e["Nonconformant"]="NONCONFORMANT"})(ne||(ne={}));var pe={name:"EntityListItem",props:{url:{type:String,required:!0},status:ne,error:{type:String,default:""}},computed:{hasErrors:function(){return this.status===ne.Nonconformant},isConformant:function(){return this.status===ne.Conformant}}},he=pe,ye=(0,m.Z)(he,le,fe,!1,null,"3eca5e9a",null),be=ye.exports;function de(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ve(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?de(Object(r),!0).forEach((function(t){me(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):de(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function me(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ge={name:"QueryResult",components:{EntityListItem:be},computed:ve({},(0,f.Se)({entities:"getQueryEntities"}))},we=ge,Oe=(0,m.Z)(we,se,ce,!1,null,"15988f90",null),Ee=Oe.exports;function Se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function je(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(r),!0).forEach((function(t){Pe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Se(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Pe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var xe={name:"QueryWrapper",components:{QueryResult:Ee,QueryInput:ue},computed:je({},(0,f.Se)({numEntities:"getQueryEntitiesLength"}))},Ce=xe,ke=(0,m.Z)(Ce,H,J,!1,null,"218864b4",null),Ie=ke.exports;function _e(e){return _e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_e(e)}function Qe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function De(e,t,r){return t&&Qe(e.prototype,t),r&&Qe(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ne(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Te(e,t)}function Te(e,t){return Te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Te(e,t)}function $e(e){var t=qe();return function(){var r,n=Ue(e);if(t){var o=Ue(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Le(this,r)}}function Le(e,t){if(t&&("object"===_e(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ze(e)}function Ze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qe(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ue(e){return Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ue(e)}var Ae=function(e){Ne(r,e);var t=$e(r);function r(){return Re(this,r),t.apply(this,arguments)}return De(r)}(s.w3);Ae=(0,u.gn)([(0,s.wA)({components:{QueryWrapper:Ie,SchemaSection:z}})],Ae);var Me=Ae,Ve=Me,Fe=(0,m.Z)(Ve,i,a,!1,null,null,null),We=Fe.exports,Be=r(7212),Ge=r.n(Be);function Ye(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ze(e,t,r){return t&&Ye(e.prototype,t),r&&Ye(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function He(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Je(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ke=ze((function e(t){He(this,e),Je(this,"entities",void 0),this.entities=t})),Xe=Ke;function et(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(c){return void r(c)}u.done?t(s):Promise.resolve(s).then(n,o)}function tt(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){et(i,n,o,a,u,"next",e)}function u(e){et(i,n,o,a,u,"throw",e)}a(void 0)}))}}function rt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ot(e,t,r){return t&&nt(e.prototype,t),r&&nt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function it(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var at=function(){function e(){rt(this,e),it(this,"QUERY_URL","https://query.wikidata.org/sparql?format=json&query=")}return ot(e,[{key:"fetchItems",value:function(){var e=tt(Ge().mark((function e(t){var r;return Ge().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(this.QUERY_URL+encodeURIComponent(t.query)).then(function(){var e=tt(Ge().mark((function e(t){var r,n;return Ge().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(200===t.status){e.next=8;break}return e.next=3,t.text();case 3:if(r=e.sent,n=r.split("\n").filter((function(e){return e.includes("MalformedQueryException")})),!n.length){e.next=7;break}throw Error(n[0]);case 7:throw Error(r);case 8:return e.abrupt("return",t.json());case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){return e}));case 2:return r=e.sent,e.abrupt("return",new Xe(this.parseItemsFromResponse(r)));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"parseItemsFromResponse",value:function(e){if(0===e.results.bindings.length)return[];var t=e.results.bindings;return t.map((function(e){for(var t in e)if("uri"===e[t].type&&e[t].value.match(/http(s?):\/\/www.wikidata.org\/entity\//))return e[t].value}))}}]),e}(),ut=at;function st(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ct(e,t,r){return t&&st(e.prototype,t),r&&st(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function lt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ft(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var pt=ct((function e(t){lt(this,e),ft(this,"query",void 0),this.query=t})),ht=pt,yt=r(8971);function bt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function dt(e,t,r){return t&&bt(e.prototype,t),r&&bt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function vt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var gt=dt((function e(t,r){vt(this,e),mt(this,"status",void 0),mt(this,"errorMessage",void 0),this.status=t,this.errorMessage=r}));function wt(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(c){return void r(c)}u.done?t(s):Promise.resolve(s).then(n,o)}function Ot(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){wt(i,n,o,a,u,"next",e)}function u(e){wt(i,n,o,a,u,"throw",e)}a(void 0)}))}}function Et(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function St(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function jt(e,t,r){return t&&St(e.prototype,t),r&&St(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var xt=function(){function e(t){Et(this,e),Pt(this,"endpoint",void 0),this.endpoint=t}return jt(e,[{key:"validate",value:function(){var e=Ot(Ge().mark((function e(t){var r;return Ge().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=yt.Util.makeQueryDB(this.endpoint),e.abrupt("return",new Promise((function(e){var n=yt.Validator.construct(t.parsedSchema,{results:"api"}).validate(r,[{node:t.entityUrl,shape:yt.Validator.start}]);e(n)})).then(this.buildResponseFromValidationResult.bind(this)).catch((function(e){return new gt(ne.Nonconformant,e)})));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"buildResponseFromValidationResult",value:function(e){return new gt(this.getResultStatus(e[0]),this.getResultErrors(e[0]))}},{key:"getResultStatus",value:function(e){return"conformant"===e.status?ne.Conformant:ne.Nonconformant}},{key:"getResultErrors",value:function(e){return"conformant"===e.status?"":yt.Util.errsToSimple(e.appinfo).join("\n")}}]),e}();function Ct(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function kt(e,t,r){return t&&Ct(e.prototype,t),r&&Ct(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function It(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _t(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Qt=kt((function e(t,r,n){It(this,e),_t(this,"entityId",void 0),_t(this,"entityUrl",void 0),_t(this,"parsedSchema",void 0),this.parsedSchema=t,this.entityId=r,this.entityUrl=n})),Dt=r(9210),Rt=r.n(Dt);function Nt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Tt(e,t,r){return t&&Nt(e.prototype,t),r&&Nt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Zt=Tt((function e(t,r){$t(this,e),Lt(this,"parsedSchema",void 0),Lt(this,"error",null),this.parsedSchema=t,r&&(this.error={message:r.message,lineNo:r.lineNo})})),qt=Zt;function Ut(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function At(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Mt(e,t,r){return t&&At(e.prototype,t),r&&At(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}Error.captureStackTrace=function(){return null};var Vt=function(){function e(){Ut(this,e)}return Mt(e,[{key:"parse",value:function(e){var t=e.getText();function r(e,t){var r=Rt().construct(""),n=r.parse(e);return t.base="",t.prefixes=n.prefixes||{},n}var n={};try{var o=r(t,n);return new qt(o,null)}catch(i){return new qt(null,i)}}}]),e}(),Ft=Vt;function Wt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Gt(e,t,r){return t&&Bt(e.prototype,t),r&&Bt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var zt=function(){function e(t){Wt(this,e),Yt(this,"text",void 0),this.text=t}return Gt(e,[{key:"getText",value:function(){return this.text}}]),e}(),Ht=zt,Jt=r(2043),Kt=r(8345),Xt=new Kt.Z({mode:"history",routes:[]}),er=Xt;function tr(e,t){return ar(e)||ir(e,t)||nr(e,t)||rr()}function rr(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function nr(e,t){if(e){if("string"===typeof e)return or(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?or(e,t):void 0}}function or(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ir(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done);a=!0)if(i.push(n.value),t&&i.length===t)break}catch(s){u=!0,o=s}finally{try{a||null==r["return"]||r["return"]()}finally{if(u)throw o}}return i}}function ar(e){if(Array.isArray(e))return e}function ur(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(c){return void r(c)}u.done?t(s):Promise.resolve(s).then(n,o)}function sr(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){ur(i,n,o,a,u,"next",e)}function u(e){ur(i,n,o,a,u,"throw",e)}a(void 0)}))}}var cr={setQuery:function(e,t){var r=e.commit,n=e.state;r("setQuery",{query:t}),r("setQueryEntities",{entities:{}}),r("setQueryError","");var o=new ut;o.fetchItems(new ht(t)).then((function(e){r("setQueryEntities",{entities:e.entities.reduce((function(e,t){var r=t.match(/[QPL]\d+/);return null!==r&&r[0]?(e[r[0]]={url:t},e):(Jt.warn("unexpected match for",t,r),e)}),{})})})).then(sr(Ge().mark((function e(){var t,o,i,a,u,s,c;return Ge().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==Object.keys(n.QueryEntities).length){e.next=2;break}return e.abrupt("return");case 2:if(0===n.ShExCParseError.message.length){e.next=4;break}return e.abrupt("return");case 4:t=new xt("https://query.wikidata.org/sparql"),o=0,i=Object.entries(n.QueryEntities);case 6:if(!(o<i.length)){e.next=15;break}return a=tr(i[o],2),u=a[0],s=a[1].url,e.next=10,t.validate(new Qt(n.ShemaParsed,u,s));case 10:c=e.sent,r("setEntityData",{id:u,status:c.status,error:c.errorMessage});case 12:o++,e.next=6;break;case 15:case"end":return e.stop()}}),e)})))).catch((function(e){r("setQueryError",e)}))},updateSchemaId:function(e,t){var r=e.commit;if(t.match(/^E[1-9]\d*$/)){er.push({query:{schemaId:t}}),r("setShExCStatus",n.loading);var o="https://www.wikidata.org/wiki/Special:EntitySchemaText/"+t;fetch(o).then((function(e){return e.text()}),(function(e){throw r("setShExCStatus",n.loadingError),e})).then((function(e){r("setShExCStatus",n.inProgress),r("setShExCText",e);var t=new Ft,o=t.parse(new Ht(e));o.error?(r("setShExCStatus",n.invalid),r("setShExCError",{errorMessage:o.error.message,lineNo:o.error.lineNo}),r("setParsedSchema",{})):(r("setShExCStatus",n.valid),r("clearShExCError"),r("setParsedSchema",o.parsedSchema))})).catch((function(e){return Jt.error(e)}))}else r("setShExCStatus",n.loadingError)}};function lr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lr(Object(r),!0).forEach((function(t){pr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}o.Z.use(f.ZP);var hr=new f.ZP.Store({state:{Query:"",QueryEntities:{},QueryError:"",ShemaParsed:{},ShExC:"",ShExCStatus:n.none,ShExCParseError:{message:"",lineNo:-1}},getters:{getShExCStatus:function(e){return e.ShExCStatus},getShExCParseError:function(e){return e.ShExCParseError},getQueryError:function(e){return e.QueryError},getQueryEntities:function(e){return e.QueryEntities},getQueryEntitiesLength:function(e){return Object.keys(e.QueryEntities).length}},mutations:{setQuery:function(e,t){e.Query=t.query},setQueryEntities:function(e,t){e.QueryEntities=t.entities},setQueryError:function(e,t){e.QueryError=t},setEntityData:function(e,t){e.QueryEntities[t.id]=fr(fr({},e.QueryEntities[t.id]),{},{status:t.status,error:t.error})},setShExCStatus:function(e,t){e.ShExCStatus=t},setShExCError:function(e,t){var r=t.errorMessage,n=t.lineNo;e.ShExCParseError={message:r,lineNo:n}},setShExCText:function(e,t){e.ShExC=t},setParsedSchema:function(e,t){e.ShemaParsed=t},clearShExCError:function(e){e.ShExCParseError={message:"",lineNo:-1}}},actions:cr});o.Z.config.productionTip=!1,o.Z.use(Kt.Z),new o.Z({router:er,store:hr,render:function(e){return e(We)}}).$mount("#app")}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}r.m=e,function(){var e=[];r.O=function(t,n,o,i){if(!n){var a=1/0;for(l=0;l<e.length;l++){n=e[l][0],o=e[l][1],i=e[l][2];for(var u=!0,s=0;s<n.length;s++)(!1&i||a>=i)&&Object.keys(r.O).every((function(e){return r.O[e](n[s])}))?n.splice(s--,1):(u=!1,i<a&&(a=i));if(u){e.splice(l--,1);var c=o();void 0!==c&&(t=c)}}return t}i=i||0;for(var l=e.length;l>0&&e[l-1][2]>i;l--)e[l]=e[l-1];e[l]=[n,o,i]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,i,a=n[0],u=n[1],s=n[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(o in u)r.o(u,o)&&(r.m[o]=u[o]);if(s)var l=s(r)}for(t&&t(n);c<a.length;c++)i=a[c],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(l)},n=self["webpackChunkwikidatashexvalidator"]=self["webpackChunkwikidatashexvalidator"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=r.O(void 0,[998],(function(){return r(5123)}));n=r.O(n)})();
//# sourceMappingURL=app-legacy.d95466fb.js.map